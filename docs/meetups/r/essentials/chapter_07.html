<h1 id="exercises-chapter-7">Exercises Chapter 7</h1>
<h2 id="exercise-7.1">Exercise 7.1</h2>
<p>Write a single R command that calculates:</p>
<p><span class="math inline">$sin(e^4 + \sqrt{arccos(1/3)})$</span></p>
<pre class="{r}"><code>sin(exp(4) + sqrt(acos(1/3)))</code></pre>
<h2 id="exercise-7.2">Exercise 7.2</h2>
<pre class="{r}"><code>x &lt;- c(pi, 4/3, 7)
x
round(x,2)</code></pre>
<h2 id="exercise-7.3">Exercise 7.3</h2>
<pre class="{r}"><code>x &lt;- (1:10)^2
x
diff(range(x))</code></pre>
<h2 id="exercise-7.4">Exercise 7.4</h2>
<pre class="{r}"><code>x &lt;- 1:4
y &lt;- 4:1
pmax(x,y)</code></pre>
<h2 id="exercise-7.5">Exercise 7.5</h2>
<pre class="{r}"><code>x &lt;- 1:4
cumsum(x)</code></pre>
<h2 id="exercise-7.6">Exercise 7.6</h2>
<pre class="{r}"><code>x &lt;- c(1,1,1,-1,-1,-1,NA)
y &lt;- c(0,1,4, 0,-1,NA, 1)
x / sqrt(y)</code></pre>
<h2 id="exercise-7.7">Exercise 7.7</h2>
<pre class="{r}"><code>x &lt;- seq(1,7,by=3)
sum(x^2) / length(x)
x^2
sum(x^2)
length(x)</code></pre>
<h2 id="exercise-7.8">Exercise 7.8</h2>
<pre class="{r}"><code>sqrt(max(9:-3))</code></pre>
<h2 id="exercise-7.9">Exercise 7.9</h2>
<pre class="{r}"><code>options(width=25)
x&lt;-seq(1,700,by=28)
x
min(x)
max(x)
x&lt;max(x)
x[x&lt;max(x)]
x[x&lt;max(x)]&gt;min(x)
x[x[x&lt;max(x)]&gt;min(x)]
mean(x[x[x&lt;max(x)]&gt;min(x)])
options(width=40)</code></pre>
<h2 id="exercise-7.10">Exercise 7.10</h2>
<pre class="{r}"><code>x &lt;- matrix(1:6,2,3,T)
x
dim(x) &lt;- c(3,2)
x</code></pre>
<h2 id="exercise-7.11">Exercise 7.11</h2>
<p>Write two R commands that calculate</p>
<p><span class="math inline">$\displaystyle \sum_{n=1}^{15}\Big(\frac{2^i}{i!} - \frac{cos(3i)}{i^4}\Big)$</span></p>
<pre class="{r}"><code>x&lt;-1:15
sum( ( (2^x)/factorial(x) ) - ( cos(3*x) / (x^4) ) )</code></pre>
<h2 id="exercise-7.12">Exercise 7.12</h2>
<p>Write two R commands that calculate</p>
<p><span class="math inline">$\displaystyle \prod_{x=4}^{12}\Big\lvert \frac{x(x-1)(x-2)}{(x-3)!} + \frac{arctan x}{x^2} \Big\rvert$</span></p>
<pre class="{r}"><code>x &lt;- 4:12
prod ( 
    abs ( ( x*(x-1)*(x-2) / factorial(x-3)  ) 
        + ( atan(x) / x^2 ) ) 
    )</code></pre>
<h2 id="exercise-7.13">Exercise 7.13</h2>
<p>Write a single R command that calculates:</p>
<p><span class="math inline">$\frac{3}{4} + \Big( \frac{3}{4} \cdot \frac{5}{6} \Big) \Big( \frac{3}{4} \cdot \frac{5}{6} \cdot \frac{7}{8} \Big) + \cdot \cdot \cdot + \Big( \frac{3}{4} \cdot \frac{5}{6} \cdot \frac{7}{8} \cdot \cdot \cdot \frac{49}{50} \Big)$</span></p>
<pre class="{r}"><code>sum(cumprod(seq(4,50,by=2)^-1*-1+1))</code></pre>
<h2 id="exercise-7.14">Exercise 7.14</h2>
<pre class="{r}"><code>exp(exp(1))</code></pre>
<h2 id="exercise-7.15">Exercise 7.15</h2>
<p>Write a single R command that calculates:</p>
<p><span class="math inline">1<sup>3</sup> + 2<sup>3</sup> + ⋅ ⋅ ⋅ + 100<sup>3</sup></span></p>
<pre class="{r}"><code>sum((1:100)^3)</code></pre>
<h2 id="exercise-7.16">Exercise 7.16</h2>
<p>Using a minimum number of keystrokes, write a single R command that creates a vector with elements:</p>
<p><span class="math inline">$\displaystyle \Big( 5, \frac{5^2}{2!}, \frac{5^3}{3!}, \cdot \cdot \cdot, \frac{5^{10}}{10!}\Big)$</span></p>
<pre class="{r}"><code>5^(1:10)/factorial(1:10)</code></pre>
<h2 id="exercise-7.17">Exercise 7.17</h2>
<p>Write a single R command that calculates:</p>
<p><span class="math inline">$\displaystyle \sum_{i=3}^{8}\sum_{j=2}^{9}\frac{i^2}{7+4j}$</span></p>
<p>Which simplifies to:</p>
<p><span class="math inline">$\displaystyle \Big(\sum_{i=3}^{8}i^2\Big)\Big(\sum_{j=2}^{9}\frac{1}{7+4j}\Big)$</span></p>
<pre class="{r}"><code>sum(seq(3:8)^2) * sum((seq(2,9)*4+7)^-1)</code></pre>
<h2 id="exercise-7.18">Exercise 7.18</h2>
<pre class="{r}"><code>point1&lt;-c(0,0)
point2&lt;-c(3,4)
# part a, L2 norm
sqrt(sum((point2-point1)^2))
# part b, L1 norm
sum(abs(point2-point1))</code></pre>
<h2 id="exercise-7.19">Exercise 7.19</h2>
<p>Sys.sleep is a suspend function which takes an integer argument, interpreted to be the number of seconds activity should be suspended. For more, see <code>??Sys.sleep</code></p>
<h2 id="exercise-7.20">Exercise 7.20</h2>
<pre class="{r}"><code>x&lt;-seq(3,317, by=17)
x
length(unique(x))</code></pre>
<h2 id="exercise-7.21">Exercise 7.21</h2>
<pre class="{r}"><code>N&lt;-100
x&lt;-sample(N,N-1,replace=FALSE)
# x&lt;-sample(100,99,replace=FALSE)
1 + order(diff(sort(x)))[length(x)-1]

# Unpacked
# starting with x:
x
# now, working from the inside out, sort it
sorted_x &lt;- sort(x)
sorted_x
# the create a vector of differences
differences_x_neighbors &lt;- diff(sorted_x)
differences_x_neighbors
# order() generates a sorted vector of the 
#   INDEXES of the DIFF output
#
# ORDER output is :
#   a VECTOR
#   ... of INDEXES
#   ... for the ORDERED values
#   ... of the input vector
#
# in our case, the first (N-1) are &quot;tied&quot; 
#   with a value of 1, the Nth however is 2
sorted_indexes_of_differences_x_neighbors &lt;-
    order(differences_x_neighbors)
# 
sorted_indexes_of_differences_x_neighbors
# pull the last item, which is the 1-based 
#   INDEX in X prior to the gap
index_with_largest_difference &lt;-
    sorted_indexes_of_differences_x_neighbors[length(x)-1]
#
index_with_largest_difference
# increment the last item to show the missing one
1 + index_with_largest_difference
# or, to elucidate that we risk 
#   conflating INDEXES with VALUES, ...
sorted_x[index_with_largest_difference]
sorted_x[index_with_largest_difference+1]
# missing number is:
sorted_x[index_with_largest_difference]+1
# missing number is:
sorted_x[index_with_largest_difference+1]-1
</code></pre>
